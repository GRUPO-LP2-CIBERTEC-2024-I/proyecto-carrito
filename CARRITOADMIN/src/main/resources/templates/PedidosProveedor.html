<!DOCTYPE html>
<html lang="en" xmlns:th = "http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <title>Pedidos</title>
</head>
<body class="bg-slate-200">
<header class="bg-orange-500 text-white h-14 flex items-center drop-shadow-xl justify-between px-5">
    <h3 class="text-2xl">Panel de Proveedor</h3>
    <button type="button" class="ml-auto">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
            <path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" clip-rule="evenodd" />
        </svg>
    </button>
</header>
<div class="min-h-screen flex">
    <nav class="bg-slate-800 w-60 flex-grow drop-shadow-2xl">
        <ul class="flex flex-col my-10">
            <li>
                <a href="productos" class="p-2 flex justify-start items-center hover:bg-slate-100 hover:bg-opacity-20 transform transition duration-200 ease-in-out mb-5">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="30" height="30" class="text-white ml-4">
                    <path fill-rule="evenodd" d="M1.5 9.832v1.793c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875V9.832a3 3 0 0 0-.722-1.952l-3.285-3.832A3 3 0 0 0 16.215 3h-8.43a3 3 0 0 0-2.278 1.048L2.222 7.88A3 3 0 0 0 1.5 9.832ZM7.785 4.5a1.5 1.5 0 0 0-1.139.524L3.881 8.25h3.165a3 3 0 0 1 2.496 1.336l.164.246a1.5 1.5 0 0 0 1.248.668h2.092a1.5 1.5 0 0 0 1.248-.668l.164-.246a3 3 0 0 1 2.496-1.336h3.165l-2.765-3.226a1.5 1.5 0 0 0-1.139-.524h-8.43Z" clip-rule="evenodd" />
                    <path d="M2.813 15c-.725 0-1.313.588-1.313 1.313V18a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3v-1.688c0-.724-.588-1.312-1.313-1.312h-4.233a3 3 0 0 0-2.496 1.336l-.164.246a1.5 1.5 0 0 1-1.248.668h-2.092a1.5 1.5 0 0 1-1.248-.668l-.164-.246A3 3 0 0 0 7.046 15H2.812Z" />
                </svg>
                <h2 class="text-white px-2">Productos</h2>
                </a>
            </li>
            <li>
                <a href="pedidos" class="p-2 flex justify-start items-center bg-slate-200 mb-5">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="30" height="30" class="ml-4">
                        <path fill-rule="evenodd" d="M3 2.25a.75.75 0 0 1 .75.75v.54l1.838-.46a9.75 9.75 0 0 1 6.725.738l.108.054A8.25 8.25 0 0 0 18 4.524l3.11-.732a.75.75 0 0 1 .917.81 47.784 47.784 0 0 0 .005 10.337.75.75 0 0 1-.574.812l-3.114.733a9.75 9.75 0 0 1-6.594-.77l-.108-.054a8.25 8.25 0 0 0-5.69-.625l-2.202.55V21a.75.75 0 0 1-1.5 0V3A.75.75 0 0 1 3 2.25Z" clip-rule="evenodd" />
                    </svg>
                    <h2 class="text-black px-2">Pedidos</h2>
                </a>
            </li>
            <li>
        </ul>
    </nav>
    <main class="w-full">
        <div class="flex flex-col items-center mt-16">
            <div class="mb-32">
                <h1 class="text-5xl text-slate-500 opacity-50">Gestion de pedidos</h1>
            </div>

            <div id="formEditarPedido" class="hidden w-1/4 p-4 border rounded-md bg-gray-50 mb-4 absolute">
                <h2 class="text-slate-500 text-2xl mb-5">Editar Pedido</h2>
                <div class="flex gap-5">
                    <div class="w-1/2">
                        <div class="mb-4">
                            <label class="block text-gray-700">Id</label>
                            <input type="text" id="txtIdEditar" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Nombre de Cliente</label>
                            <input type="text" id="etxtNombreCiente" class="w-full px-4 py-2 border rounded"/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Fecha de creacion</label>
                            <input type="text" id="etxtFechaCreacion" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Fecha de entrega</label>
                            <input type="number" id="etxtFechaEntrega" class="w-full px-4 py-2 border rounded"/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Nombre producto</label>
                            <input type="number" step="0.01" id="etxtNombreProducto" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                    </div>
                    <div class="w-1/2">
                        <div class="mb-4">
                            <label class="block text-gray-700">Precio unitario</label>
                            <input type="number" step="0.01" id="etxtPrecioUnitario" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Cantidad</label>
                            <input type="number" step="0.01" id="etxtCantidad" class="w-full px-4 py-2 border rounded"/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Descuento</label>
                            <input type="number" step="0.01" id="etxtDescuento" class="w-full px-4 py-2 border rounded"/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Total</label>
                            <input type="number" step="0.01" id="etxtTotal" class="w-full px-4 py-2 border rounded"/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Estado</label>
                            <select name="estados" id="cbxEstadoEdit" class="w-full px-4 py-2 border rounded">
                                <option value="">Pendiente</option>
                                <option value="">Entregado</option>
                                <option value="">Cancelado</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="flex justify-end">
                    <button id="btnEditarEdit" class="bg-orange-300 text-white px-4 py-2 mr-2 rounded hover:bg-orange-600">
                        Editar
                    </button>
                    <button id="btnCancelarEdit" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700">
                        Cancelar
                    </button>
                </div>
            </div>

            <div id="formDetallesPedido" class="hidden w-auto p-4 border rounded-md bg-gray-50 mb-4 absolute">
                <h2 class="text-slate-500 text-2xl mb-5">Detalles de Pedido</h2>
                <div class="flex gap-5">
                    <div class="w-1/2">
                        <div class="mb-4">
                            <label class="block text-gray-700">Id</label>
                            <input type="text" id="txtIdDetalle" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Nombre de Cliente</label>
                            <input type="text" id="txtNombreCienteDetalle" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Fecha de creacion</label>
                            <input type="text" id="txtFechaCreacionDetalle" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Fecha de entrega</label>
                            <input type="number" id="txtFechaEntregaDetalle" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Nombre producto</label>
                            <input type="number" step="0.01" id="txtNombreProductoDetalle" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                    </div>
                    <div class="w-1/2">
                        <div class="mb-4">
                            <label class="block text-gray-700">Precio unitario</label>
                            <input type="number" step="0.01" id="txtPrecioUnitarioDetalle" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Cantidad</label>
                            <input type="number" step="0.01" id="txtCantidadDetalle" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Descuento</label>
                            <input type="number" step="0.01" id="txtDescuentoDetalle" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Total</label>
                            <input type="number" step="0.01" id="txtTotalDetalle" class="w-full px-4 py-2 border rounded" disabled/>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700">Estado</label>
                            <select name="estados" id="cbxEstadoDetalle" class="w-full px-4 py-2 border rounded" disabled>
                                <option value="">Pendiente</option>
                                <option value="">Entregado</option>
                                <option value="">Cancelado</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="flex justify-end">
                    <button id="btnCerrarDetalle" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700">
                        Cerrar
                    </button>
                </div>
            </div>

            <div class="overflow-x-auto w-2/3">
                <table class="min-w-full table-auto">
                    <thead class="bg-stone-600 text-white">
                    <tr>
                        <th class="px-4 py-2">Id</th>
                        <th class="px-4 py-2">Nombre de Cliente</th>
                        <th class="px-4 py-2">Fecha de creacion</th>
                        <th class="px-4 py-2">Fecha de entrega</th>
                        <th class="px-4 py-2">Estado</th>
                        <th class="px-4 py-2">Total</th>
                        <th class="px-4 py-2">Acciones</th>
                    </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200 text-center">
                    <tr class="hover:bg-gray-100">
                        <td class="px-4 py-2 text-center">1</td>
                        <td class="px-4 py-2">Cogorno SAC</td>
                        <td class="px-4 py-2">24/05/2024</td>
                        <td class="px-4 py-2 text-center">30/05/2024</td>
                        <td class="px-4 py-2 text-center">Pendiente</td>
                        <td class="px-4 py-2">5.540</td>
                        <td class="px-4 py-2">
                            <button class="bg-green-500 text-white px-2 py-1 rounded hover:bg-green-700 mx-1" id="btnDetalles">Detalles</button>
                            <button class="bg-yellow-500 text-white px-2 py-1 rounded hover:bg-yellow-700 mx-1" id="btnEditar">Editar</button>
                            <button class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-700 mx-1" id="btnEliminar">Eliminar</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>
</div>
<footer class="bg-zinc-800 h-14 flex justify-center items-center">
    <h2 class="text-white">Proyecto</h2>
</footer>
<script>
    const $formEditarPedido=document.getElementById("formEditarPedido"),
        $formDetallesPedido=document.getElementById("formDetallesPedido"),
        $btnEditarEdit=document.getElementById("btnEditarEdit"),
        $btnCancelarEdit=document.getElementById("btnCancelarEdit"),
        $btnEditar=document.getElementById("btnEditar"),
        $btnDetalles=document.getElementById("btnDetalles"),
        $btnEliminar=document.getElementById("btnEliminar"),
        $btnCerrarDetalle=document.getElementById("btnCerrarDetalle");

    const funToogleDiv=$element=>{
       if($element.classList.contains("hidden")){
        $element.classList.remove("hidden");
        setTimeout(()=>{
            $element.style.transition="opacity 0.5s";
            $element.style.opacity="1";
        },50);
       }else{
        $element.style.transition="opacity 0.5s";
        $element.style.opacity="0";
        setTimeout(()=>{
            $element.classList.add("hidden");
        },300)
       }
    };

    $btnDetalles.addEventListener("click",()=>funToogleDiv($formDetallesPedido));
    $btnCerrarDetalle.addEventListener("click",()=>funToogleDiv($formDetallesPedido));
    $btnCancelarEdit.addEventListener("click",()=>funToogleDiv($formEditarPedido));
    $btnEditarEdit.addEventListener("click",()=>funToogleDiv($formEditarPedido));
    $btnEditar.addEventListener("click",()=>funToogleDiv($formEditarPedido));
    $btnEliminar.addEventListener("click", () => {
    const swalWithBootstrapButtons = Swal.mixin({
        customClass: {
            confirmButton: "btn btn-success",
            cancelButton: "btn btn-danger"
        },
        buttonsStyling: false
    });
    swalWithBootstrapButtons.fire({
        title: "¿Estás seguro de eliminar este pedido?",
        text: "¡No podrás revertir esto!",
        icon: "warning",
        showCancelButton: true,
        confirmButtonText: "Sí, eliminarlo",
        cancelButtonText: "No, cancelar",
        reverseButtons: true,
        customClass: {
            confirmButton: "bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded ml-3",
            cancelButton: "bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mr-3"
        },
        buttonsStyling: false
    }).then((result) => {
        if (result.isConfirmed) {
            swalWithBootstrapButtons.fire({
                title: "¡Eliminado!",
                text: "Este pedido ha sido removido",
                icon: "success"
            });
        } else if (result.dismiss === Swal.DismissReason.cancel) {
            swalWithBootstrapButtons.fire({
                title: "Cancelado",
                text: "Este pedido no sera removido",
                icon: "error"
            });
        }
    });
});
</script>
</body>
</html>